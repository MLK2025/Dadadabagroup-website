<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Dadaba Group — Corporate Website</title>
  <meta name="description" content="Dadaba Group — diversified investments in real estate, agritech, energy, infrastructure and sustainable development." />

  <!-- Font perf -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    /* ================== RESET + THEME ================== */
    :root{
      --font: "Manrope",system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;

      /* Brand */
      --brand:#0f4a13;
      --brand-600:#0b3a0e;
      --accent:#d6ff3f;

      /* Neutrals */
      --ink:#0f1a14; --muted:#5c5f63; --bg:#ffffff; --paper:#ffffff;
      --line:#ece9df; --line-strong:#dddcd7;

      /* Brand tints */
      --brand-surface:#f3f8f2;
      --brand-surface-2:#ecf5ea;
      --brand-border:#d5e6d2;

      --container:1160px; --nav-h:78px; --radius:16px; --shadow:0 12px 28px rgba(0,0,0,.08);
      --reveal-dist:22px; --reveal-dur:.7s; --reveal-ease:cubic-bezier(.22,.61,.36,1);
    }
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    html,body{margin:0;padding:0;max-width:100vw;overflow-x:hidden}
    body{font-family:var(--font); color:var(--ink); background:var(--bg); line-height:1.55}
    img{max-width:100%; display:block}
    a{color:inherit}
    .sr-only{position:absolute!important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0}
    .container{width:min(var(--container), calc(100% - 32px)); margin-inline:auto}
    .auto-visibility{content-visibility:auto; contain-intrinsic-size:800px}

    /* ================== SCROLL PROGRESS ================== */
    .scroll-progress{position:fixed; inset:0 0 auto 0; height:3px; background:linear-gradient(90deg,var(--accent),#baff7a); width:0%; z-index:300; transform-origin:left center}

    /* ================== HEADER / NAV ================== */
    header{position:sticky; top:0; z-index:280; background:#fff; border-bottom:1px solid var(--line); transition:box-shadow .25s ease, background .25s ease; padding-top:env(safe-area-inset-top)}
    header.scrolled{box-shadow:0 10px 24px rgba(0,0,0,.06)}
    .nav{height:var(--nav-h); display:flex; align-items:center; justify-content:space-between; gap:16px}

    .brand{display:flex; align-items:center; gap:10px; text-decoration:none; font-weight:900}
    .logo-img{ width:84px; height:84px; border-radius:8px; flex:0 0 84px; object-fit:cover }
    .logo-img.small{ width:64px; height:64px; flex:0 0 64px }
    .logo-img.tiny{ width:32px; height:32px; flex:0 0 32px }

    .menu{display:flex; align-items:center; gap:18px; list-style:none; padding:0; margin:0}
    .menu>li{position:relative}
    .menu a, .menu button{font-weight:700; text-decoration:none; color:#18201b}
    .menu button{display:flex; align-items:center; gap:6px; border:0; background:transparent; padding:10px 8px; border-radius:10px; cursor:pointer}
    .menu button:hover, .menu a:hover{background:#f6f7f4}
    .menu svg{width:16px; height:16px; stroke:currentColor; fill:none}

    /* mega menu */
    .mega{display:none; position:absolute; top:calc(100% + 6px); left:0; background:#fff; border:1px solid var(--line); border-radius:14px; box-shadow:var(--shadow); padding:18px; min-width:520px; grid-template-columns:1fr 1fr; gap:18px; z-index:290}
    .has-mega>button[aria-expanded="true"] + .mega{display:grid}
    .mega .col h4{margin:0 0 8px; font-size:13px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); font-weight:800}
    .mega .col a{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-radius:10px; color:#132017; text-decoration:none; border:1px solid transparent; font-weight:700}
    .mega .col a:hover{background:#f6f7f4; border-color:#eef0ea}
    .mega .col a svg{width:18px; height:18px}

    .utils{display:flex; align-items:center; gap:10px}
    .btn-icon{display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; border:1px solid var(--line); background:#fff; cursor:pointer}
    .btn-icon:hover{background:#f6f7f4}

    /* ======= Overlays ======= */
    .search-overlay{position:fixed; inset:0; background:rgba(0,0,0,.48); display:none; align-items:center; justify-content:center; padding:20px; z-index:400}
    .search-box{background:#fff; width:min(720px, 94%); border-radius:16px; padding:16px; border:1px solid var(--line)}
    .search-box form{display:grid; grid-template-columns:1fr auto auto; gap:10px; align-items:center}
    .search-box input{height:48px; border-radius:999px; border:1px solid var(--line); padding:0 14px}
    .search-box button{height:48px; border-radius:999px; border:0; padding:0 18px; font-weight:900; cursor:pointer}
    .search-box button[type="submit"]{background:var(--brand); color:#fff}
    .search-box .btn{background:#f1f5ec}

    .results{margin-top:12px; border-top:1px solid var(--line); padding-top:10px; max-height:52vh; overflow:auto}
    .result{display:flex; justify-content:space-between; align-items:center; padding:10px 12px; border:1px solid #f0f1ec; border-radius:12px; margin:8px 0; text-decoration:none; color:#0f1a14; font-weight:700}
    .result:hover{background:#f6f7f4; border-color:#e8ebe4}
    .result small{color:var(--muted); font-weight:700}

    .drawer{position:fixed; inset:0; display:none; z-index:380}
    .drawer::before{content:""; position:absolute; inset:0; background:rgba(0,0,0,.48)}
    .drawer-panel{position:absolute; right:0; top:0; bottom:0; width:min(92vw, 380px); background:#fff; padding:16px; border-left:1px solid var(--line); overflow:auto; padding-bottom:calc(16px + env(safe-area-inset-bottom))}
    .drawer .badge{display:block; padding:12px 10px; margin:4px 0; border:1px solid var(--line); border-radius:12px; text-decoration:none; font-weight:800}
    .drawer .btn{height:40px; padding:0 14px; border-radius:10px; border:1px solid var(--line); background:#f6f7f4; font-weight:800; cursor:pointer}
    .accordion details{border:1px solid var(--line); border-radius:12px; padding:6px 10px; margin:8px 0}
    .accordion summary{cursor:pointer; font-weight:800}
    .accordion a{display:block; padding:8px 6px; text-decoration:none; border-radius:8px; font-weight:700}
    .accordion a:hover{background:#f6f7f4}

    /* ================== HERO ================== */
    .hero{position:relative; background:#0b2726; color:#fff; overflow:hidden}
    .hero .slides{display:flex; transition:transform .5s ease; will-change:transform}
    .hero .slide{position:relative; min-width:100%}
    .hero .media{position:relative; width:100%; min-height:68vh; background:#0b2726; overflow:hidden}
    .hero .media img.cover{
      position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center;
      will-change:transform; transform:translateY(var(--parallax,0px)) scale(1.05);
    }
    /* Placeholder text hidden by default; only shown on true failure */
    .hero .ph{position:absolute; inset:12px; display:none; align-items:center; justify-content:center; text-align:center; padding:28px; color:#d9e8df; font-weight:800; font-size:clamp(14px,2vw,18px); border:2px dashed rgba(255,255,255,.4); border-radius:14px; background:repeating-linear-gradient(45deg, rgba(255,255,255,.06) 0 16px, rgba(255,255,255,.08) 16px 32px)}
    .hero .media.show-placeholder .ph{display:flex}
    .hero .content{position:absolute; inset:0; display:flex; align-items:center; z-index:2}
    .hero .content .inner{width:min(1100px,92%); margin:0 auto; display:grid; gap:12px; padding: clamp(18px,3.6vw,32px)}
    .hero .eyebrow{letter-spacing:.18em; text-transform:uppercase; opacity:.92; font-weight:800; font-size:12px}
    .hero .headline{font-size:clamp(26px,4vw,44px); line-height:1.15; font-weight:900; margin:2px 0}
    .hero .subhead{max-width:60ch; font-size:clamp(14px,2.2vw,18px); opacity:.98}
    .hero .cta-row{display:flex; gap:12px; flex-wrap:wrap; margin-top:6px}
    .hero .btn{display:inline-flex; align-items:center; justify-content:center; padding:12px 20px; border-radius:999px; border:1.5px solid var(--accent); background:transparent; color:var(--accent); font-weight:800; text-decoration:none}
    .hero .btn.primary{background:var(--accent); color:#0b2b08; border-color:var(--accent)}
    .hero .btn:hover{filter:brightness(.95)}

    /* Controls */
    .hero .dots{position:absolute; left:0; right:0; z-index:5; bottom:calc(18px + env(safe-area-inset-bottom)); display:flex; gap:12px; justify-content:center; align-items:center}
    .hero .dots button{ width:14px; height:14px; border-radius:999px; border:0; background:#ffffff66; cursor:pointer; touch-action:manipulation }
    .hero .dots button[aria-current="true"]{background:#fff}
    .hero .arrows{position:absolute; left:0; right:0; z-index:5; bottom:calc(62px + env(safe-area-inset-bottom)); display:flex; gap:10px; justify-content:center; align-items:center; pointer-events:none}
    .hero .arrows button{pointer-events:auto; border:1px solid #ffffff55; background:#00000033; color:#fff; padding:10px 14px; border-radius:999px; font-weight:800; cursor:pointer; backdrop-filter: blur(4px)}
    .hero .arrows button:hover{background:#00000055}

    /* ================== STATS ================== */
    .stats{background:#f7f8f5; border-top:1px solid var(--line); border-bottom:1px solid var(--line)}
    .wrap{display:grid; grid-template-columns:repeat(4,1fr); gap:16px; padding:20px 0}
    .stat{display:flex; flex-direction:column; align-items:center; gap:6px; padding:10px 6px}
    .stat .num{font-size:clamp(24px,4.2vw,36px); font-weight:900}
    .stat .label{color:var(--muted); font-weight:700; font-size:13px; text-align:center}

    /* ================== BUSINESS CARDS ================== */
    .section-head{display:flex; justify-content:space-between; align-items:flex-end; gap:16px; padding:34px 0}
    .grid{display:grid; grid-template-columns:repeat(3,1fr); gap:18px}
    .card{border:1px solid var(--line); border-radius:16px; overflow:hidden; background:#fff; display:grid; grid-template-rows:auto auto auto; transition:transform .35s ease, box-shadow .35s ease, opacity .3s ease}
    .card:hover{transform:translateY(-6px); box-shadow:0 10px 28px rgba(33,50,38,.10)}
    .card .thumb{position:relative; aspect-ratio:16/9; background:#e8efe7; overflow:hidden; background-image:repeating-linear-gradient(135deg,#eff6ee,#eff6ee 12px,#e2ece0 12px,#e2ece0 24px); transition:transform .25s ease; transform-style:preserve-3d}
    .card .thumb img.cover{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center; opacity:0; transition:opacity .35s ease, transform .6s ease}
    .card .thumb.has-image img.cover{opacity:1}
    /* FOP fix: placeholder hidden by default — shown only if JS flags a failure */
    .card .thumb::after{
      content:"Upload 16:9 image"; position:absolute; inset:10px;
      display:none; place-items:center; color:#4b5a4e; font-weight:900; font-size:12px; letter-spacing:.06em;
      border:2px dashed #b8c6b7; border-radius:12px; background:rgba(255,255,255,.25)
    }
    .card .thumb.show-placeholder::after{ display:grid }
    .card:hover .thumb img.cover{transform:scale(1.05)}
    .card .thumb::before{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 40%, rgba(255,255,255,.22) 50%, transparent 60%); transform:translateX(-120%); transition:transform .7s ease; pointer-events:none}
    .card:hover .thumb::before{transform:translateX(120%)}
    .card .body{padding:16px}
    .kicker{font-size:12px; letter-spacing:.12em; text-transform:uppercase; color:var(--muted); font-weight:800}
    .card h3{margin:8px 0 6px}
    .desc{color:#3a3d40; margin:0 0 8px}
    .chip-row{display:flex; flex-wrap:wrap; gap:8px}
    .chip{font-size:12px; padding:6px 10px; background:#f6f7f4; border-radius:999px; border:1px solid #eef0ea; font-weight:800}
    .card .foot{display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-top:1px solid var(--line)}
    .link{font-weight:800; text-decoration:none; color:var(--brand); position:relative}
    .link::after{content:""; position:absolute; left:0; right:0; bottom:-2px; height:2px; background:currentColor; transform:scaleX(0); transform-origin:left; transition:transform .25s ease}
    .link:hover::after{transform:scaleX(1)}

    /* ======= Core section background + pills ======= */
    .core{position:relative; isolation:isolate}
    .core::before{
      content:""; position:absolute; inset:-8px -8px auto -8px; height:260px; z-index:-1;
      background:
        radial-gradient(60% 80% at 20% 10%, #ffffff22 0%, transparent 60%),
        radial-gradient(80% 60% at 90% 20%, #0f4a1312 0%, transparent 55%);
      filter: blur(6px);
    }
    .pill-row{display:flex; flex-wrap:wrap; gap:10px}
    .pill{
      appearance:none; border:1px solid var(--brand-border);
      background:linear-gradient(180deg,#f6fbf7 0%, #edf5ee 100%);
      box-shadow:0 1px 0 #fff inset, 0 8px 22px rgba(15,74,19,.06);
      color:#132017; padding:10px 14px; border-radius:999px; font-weight:800;
      display:inline-flex; align-items:center; gap:10px; cursor:pointer;
      transition:transform .16s ease, box-shadow .2s ease, background .3s ease, border-color .3s ease;
    }
    .pill .dot{width:8px; height:8px; border-radius:50%; background:var(--brand); opacity:.75}
    .pill:hover{transform:translateY(-1px)}
    .pill[aria-pressed="true"]{
      background:#e8f5ea; border-color:#cfe6cf;
      box-shadow:0 2px 0 #fff inset, 0 10px 26px rgba(15,74,19,.08);
    }

    /* reveal variations */
    [data-reveal]{opacity:0; transform:translateY(var(--reveal-dist)); transition:opacity var(--reveal-dur) var(--reveal-ease), transform var(--reveal-dur) var(--reveal-ease); will-change:opacity,transform; transition-delay:var(--d,0ms)}
    [data-reveal="fade"]{transform:none}
    [data-reveal="pop"]{opacity:0; transform:translateY(14px) scale(.96)}
    .is-visible{opacity:1; transform:translateY(0)}
    .is-visible[data-reveal="pop"]{opacity:1; transform:none}

    /* filter animation states */
    #bizGrid.animating .card{will-change:transform, opacity}
    #bizGrid .card.hidden{opacity:0; transform:scale(.98) translateY(12px); pointer-events:none}

    /* ================== ESG TILES ================== */
    .triple{display:grid; grid-template-columns:repeat(3,1fr); gap:18px}
    .tile{position:relative; border-radius:16px; padding:20px 20px 18px 26px; min-height:220px; display:flex; flex-direction:column; gap:8px; background:var(--brand-surface); border:1.5px solid var(--brand-border); color:var(--ink); box-shadow:0 10px 20px rgba(15,74,19,.04)}
    .tile::before{content:""; position:absolute; left:0; top:0; bottom:0; width:8px; border-radius:16px 0 0 16px; background:linear-gradient(180deg,var(--brand) 0%, var(--brand-600) 100%)}
    .tile .h{font-weight:900; font-size:22px; margin:4px 0; color:var(--brand)}
    .tile .desc{margin:0; line-height:1.55; color:#2b332d}
    .tile .metric{margin-top:auto; font-weight:900; color:var(--brand-600)}
    .tile.community{ background:var(--brand-surface-2) }
    .tile.gov{ background:#e9f1e6 }

    /* ================== NEWS / PARTNERS / FOOTER ================== */
    .news-section{background:#f7f8f5; padding: clamp(36px,5vw,64px) 0}
    .news-title{font-size: clamp(24px,3.2vw,34px); text-align:center; margin: 0 0 22px; font-weight: 900}
    .news-grid{display:grid; grid-template-columns: repeat(3,1fr); gap: clamp(16px,2.4vw,24px)}
    .news-card{background:#fff; border:1px solid var(--line); border-radius:16px; overflow:hidden; box-shadow: var(--shadow); display:flex; flex-direction:column}
    .news-media{ aspect-ratio: 16/9; overflow:hidden; margin:0 }
    .news-media img{ width:100%; height:100%; object-fit:cover }
    .news-body{ padding:16px 18px 18px }
    .news-h{ font-size: clamp(16px,2vw,18px); margin: 4px 0 6px; font-weight: 800 }
    .news-kicker{ color:var(--muted); font-size:13px; margin:0 0 6px }
    .news-desc{ color:#3a3d40; font-size:14px; margin:0 }
    .news-cta{ display:flex; justify-content:center; margin-top:24px }
    .btn-outline{display:inline-flex; align-items:center; justify-content:center; padding:12px 20px; border-radius:999px; border:1.5px solid var(--brand); color:var(--brand); text-decoration:none; font-weight:700; transition:.2s ease}
    .btn-outline:hover{ background:var(--brand); color:#fff }

    .partners{ padding: 16px 0 clamp(40px,6vw,64px) }
    .partners-head{text-align:center; font-weight:800; letter-spacing:.18em; color:#5e7b63; font-size:12px; margin-bottom:16px}
    .partners-grid{display:grid; gap:14px; grid-template-columns: repeat(6,1fr)}
    .partner-tile{background:#fff; border:1px solid var(--line); border-radius:12px; display:flex; align-items:center; justify-content:center; height:76px; padding:12px; transition:transform .25s ease}
    .partner-tile:hover{transform:translateY(-2px)}
    .partner-tile img{ max-height:42px; max-width:100%; object-fit:contain }

    .site-footer{ color:#e6f4ea }
    .footer-main{ background:var(--brand); padding: clamp(28px,5vw,48px) 0 }
    .footer-grid{display:grid; grid-template-columns: 1.2fr 1fr 1fr 1fr; gap: clamp(16px,2.8vw,32px); align-items:start}
    .foot-col h4{font-size:16px; margin: 6px 0 12px; color:#eaf8ee; font-weight:800}
    .foot-brand{ display:flex; align-items:center; gap:10px; margin-bottom:8px }
    .foot-brand strong{ font-weight:900; font-size:18px }
    .foot-tag{ color:#cfe8d2; margin:0 0 12px }
    .foot-links{ list-style:none; padding:0; margin:0 }
    .foot-links li{ margin: 8px 0 }
    .foot-links a{ color:#e6f4ea; text-decoration:none }
    .foot-links a:hover{ text-decoration:underline }
    .newsletter-wide{ margin-top: clamp(20px,3vw,28px); background:var(--brand-600); border:1px solid rgba(255,255,255,.10); border-radius:16px; padding:12px }
    .newsletter-row{ display:grid; grid-template-columns: 1fr auto auto; gap:12px; align-items:center }
    .newsletter-row .nl-label{ font-weight:800; white-space:nowrap; font-size:14px }
    .newsletter-row input{ min-width: 260px; height:48px; border-radius:999px; border:0; padding:0 16px; color:#111; background:#fff }
    .newsletter-row button{ height:48px; border-radius:999px; border:0; padding:0 22px; font-weight:900; cursor:pointer; background:var(--accent); color:#0b2b08 }
    .newsletter-row button:hover{ filter:brightness(.95) }
    .footer-bottom{ background:var(--brand-600) }
    .foot-bottom-row{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding: 14px 0; color:#cfe8d2; flex-wrap:wrap }
    .foot-legal a{ color:#cfe8d2; text-decoration:none; margin-left:14px }
    .foot-legal a:hover{ text-decoration:underline }

    .btn.backtotop{position:fixed; right:16px; bottom:calc(16px + env(safe-area-inset-bottom)); display:none; align-items:center; justify-content:center; height:44px; padding:0 16px; border-radius:999px; border:1px solid var(--line); background:#fff; font-weight:900; cursor:pointer; z-index:260}

    @media (prefers-reduced-motion: reduce){
      .hero .slides, [data-reveal]{transition:none}
      .hero .media img.cover{transform:none}
    }

    /* ================== RESPONSIVE ================== */
    @media (max-width: 1120px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width: 900px){
      .menu{display:none}
      .utils .hamburger{display:inline-flex}
      .section-head{flex-direction:column; align-items:flex-start}
      .triple{grid-template-columns:1fr}
      .btn-icon{ background:var(--brand); color:#fff; border-color:var(--brand) }
      .btn-icon svg{ stroke:#fff }
      .btn-icon:hover{ filter:brightness(.95) }
    }
    @media (min-width: 901px){ .utils .hamburger{display:none} }
    @media (max-width: 1024px){
      .news-grid{ grid-template-columns: repeat(2,1fr) }
      .partners-grid{ grid-template-columns: repeat(4,1fr) }
      .footer-grid{ grid-template-columns: 1fr 1fr }
      .newsletter-row{ grid-template-columns: 1fr }
      .newsletter-row .nl-label{ text-align:center }
    }
    @media (max-width: 640px){
      .grid{grid-template-columns:1fr}
      .news-grid{ grid-template-columns: 1fr }
      .partners-grid{ grid-template-columns: repeat(3,1fr) }
      .foot-bottom-row{ flex-direction:column; text-align:center }
      .hero .media{ min-height:56vh }
      .btn.backtotop{ background:var(--brand); color:#fff; border-color:var(--brand) }
    }

    /* ===== Mobile hero polish ===== */
    @media (max-width: 640px){
      .hero{ background:#0b2726; isolation:isolate; }
      .hero .media{ min-height:78dvh; }
      @supports not (min-height:1dvh){ .hero .media{ min-height:78vh; } }
      .hero .media img.cover{ object-position:center 30%; transform:translateY(var(--parallax,0px)) scale(1.06); }
      .hero .content{ align-items:flex-end; }
      .hero .content .inner{
        width:100%;
        padding:18px 16px calc(86px + env(safe-area-inset-bottom));
        background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.18) 22%, rgba(0,0,0,.55) 86%);
        border-radius:18px 18px 0 0;
      }
      .hero .eyebrow{ font-size:11px; opacity:.9; }
      .hero .headline{ font-size:clamp(22px,6.2vw,28px); line-height:1.15; margin:2px 0 0; }
      .hero .subhead{ font-size:14px; opacity:.95; display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
      .hero .cta-row{ gap:8px; margin-top:8px; }
      .hero .btn{ padding:12px 14px; font-weight:900; }
      .hero .btn.primary{ border-width:0; }
      .hero .arrows{ display:none; }
      .hero .dots{ bottom:calc(14px + env(safe-area-inset-bottom)); gap:10px; }
      .hero .dots button{ width:12px; height:12px; background:#ffffff80; }
      .hero .dots button[aria-current="true"]{ background:#fff; }
      .hero .media .ph{ font-size:12px; padding:18px; }
    }
  </style>

  <!-- If JS is disabled, make sure images are visible -->
  <noscript><style>.card .thumb img.cover{opacity:1!important}</style></noscript>
</head>
<body>

  <!-- Scroll progress bar -->
  <div class="scroll-progress" id="scrollProgress" aria-hidden="true"></div>

  <header id="siteHeader">
    <div class="container nav" role="navigation" aria-label="Primary">
      <a class="brand" href="index.html" aria-label="Dadaba Group Home">
        <img class="logo-img"
             src="assets/img/logo1.png"
             srcset="assets/img/logo1.png 1x, assets/img/logo1.png 2x"
             alt="Dadaba Group logo" width="80" height="80" loading="eager" decoding="async" fetchpriority="high">
        <span>Dadaba Group</span>
      </a>

      <ul class="menu" aria-label="Main menu">
        <li class="has-mega">
          <button aria-expanded="false" aria-controls="mega-about">About
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5"/></svg>
          </button>
          <div class="mega" id="mega-about" role="menu">
            <div class="col">
              <h4>Overview</h4>
              <a href="about.html">About Dadaba <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg></a>
              <a href="about.html#leadership">Leadership <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg></a>
              <a href="about.html#journey">Our Journey <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg></a>
            </div>
            <div class="col">
              <h4>Foundation</h4>
              <a href="dadaba-foundation.html">Dadaba Foundation <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg></a>
              <a href="about.html#governance">Governance <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg></a>
            </div>
          </div>
        </li>
        <li class="has-mega">
          <button aria-expanded="false" aria-controls="mega-business">Businesses
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5"/></svg>
          </button>
          <div class="mega" id="mega-business" role="menu">
            <div class="col">
              <h4>Verticals</h4>
              <a href="businesses.html#infrastructure">Infrastructure</a>
              <a href="businesses.html#energy">Energy & Utilities</a>
              <a href="businesses.html#logistics">Transport & Logistics</a>
              <a href="businesses.html#d2c">Direct to Consumer</a>
              <a href="businesses.html#materials">Materials & Mining</a>
              <a href="businesses.html#realestate">Real Estate</a>
              <a href="businesses.html#digital">Media & Digital</a>
            </div>
            <div class="col">
              <h4>Subsidiaries</h4>
              <a href="subsidiaries/dadaba-estate.html">Dadaba Estate</a>
              <a href="subsidiaries/dadaba-carbon-hub.html">Dadaba Carbon Hub</a>
              <a href="subsidiaries/dadaba-mining.html">Dadaba Mining Ltd</a>
              <a href="subsidiaries/dadaba-prestige.html">Dadaba Prestige (Smart Farming)</a>
              <a href="subsidiaries/dadaba-entertainment.html">Dadaba Entertainment</a>
              <a href="subsidiaries/dadaba-football-agency.html">Dadaba Football Agency</a>
              <a href="subsidiaries/dadaba-recruitment.html">Dadaba Recruitment Agency</a>
            </div>
          </div>
        </li>
        <li class="has-mega">
          <button aria-expanded="false" aria-controls="mega-esg">Sustainability
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5"/></svg>
          </button>
          <div class="mega" id="mega-esg" role="menu">
            <div class="col">
              <h4>ESG Pillars</h4>
              <a href="sustainability.html#climate">Climate Action</a>
              <a href="sustainability.html#communities">Nurturing Communities</a>
              <a href="sustainability.html#governance">Governance</a>
            </div>
            <div class="col">
              <h4>Reports</h4>
              <a href="sustainability.html#reports">Group ESG Report (PDF)</a>
              <a href="sustainability.html#policies">Policies & Disclosures</a>
            </div>
          </div>
        </li>
        <li><a href="investors.html">Investors</a></li>
        <li><a href="media.html">Newsroom</a></li>
        <li><a href="careers.html">Careers</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>

      <div class="utils">
        <button class="btn-icon" id="openSearch" aria-label="Open search" aria-expanded="false">
          <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><circle cx="11" cy="11" r="7" fill="none" stroke="currentColor" stroke-width="2"/><path d="M20 20l-3.2-3.2" fill="none" stroke="currentColor" stroke-width="2"/></svg>
        </button>
        <button class="btn-icon hamburger" id="openDrawer" aria-expanded="false" aria-label="Open menu">
          <svg viewBox="0 0 24 24" width="22" height="22" aria-hidden="true"><path d="M3 6h18M3 12h18M3 18h18" fill="none" stroke="currentColor" stroke-width="2"/></svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Search overlay -->
  <div class="search-overlay" id="searchOverlay" role="dialog" aria-modal="true" aria-labelledby="searchLabel" aria-hidden="true">
    <div class="search-box" role="document">
      <form id="searchForm" action="#">
        <label id="searchLabel" class="sr-only" for="q">Search</label>
        <input type="search" name="q" id="q" placeholder="Search Dadaba Group..." autocomplete="off" />
        <button type="submit">Search</button>
        <button type="button" class="btn" id="closeSearch" aria-label="Close search">Close</button>
      </form>
      <div class="results" id="searchResults" role="listbox" aria-label="Search results" aria-live="polite"></div>
    </div>
  </div>

  <!-- Mobile drawer -->
  <div class="drawer" id="drawer" aria-hidden="true">
    <div class="drawer-panel" role="dialog" aria-label="Mobile menu">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <div class="brand">
          <img class="logo-img tiny"
               src="assets/img/logo2.png"
               srcset="assets/img/logo2.png 1x, assets/img/logo2.png 2x"
               alt="Dadaba Group logo" width="32" height="32" decoding="async">
          <strong>Dadaba Group</strong>
        </div>
        <button class="btn" id="closeDrawer" aria-label="Close menu">Close</button>
      </div>
      <div class="accordion" style="margin-top:10px">
        <details open>
          <summary>About</summary>
          <a href="about.html" onclick="toggleDrawer(false)">Overview</a>
          <a href="about.html#leadership" onclick="toggleDrawer(false)">Leadership</a>
          <a href="about.html#journey" onclick="toggleDrawer(false)">Our Journey</a>
          <a href="dadaba-foundation.html" onclick="toggleDrawer(false)">Foundation</a>
          <a href="about.html#governance" onclick="toggleDrawer(false)">Governance</a>
        </details>
        <a href="businesses.html" class="badge" onclick="toggleDrawer(false)">Businesses</a>
        <a href="sustainability.html" class="badge" onclick="toggleDrawer(false)">Sustainability</a>
        <a href="investors.html" class="badge" onclick="toggleDrawer(false)">Investors</a>
        <a href="media.html" class="badge" onclick="toggleDrawer(false)">Newsroom</a>
        <a href="careers.html" class="badge" onclick="toggleDrawer(false)">Careers</a>
        <a href="contact.html" class="badge" onclick="toggleDrawer(false)">Contact</a>
      </div>
    </div>
  </div>

  <!-- ========== HERO (3 slides) ========== -->
  <section class="hero auto-visibility" aria-label="Page intro">
    <div class="slides" id="slides" style="transform:translateX(0%)">
      <!-- Slide 1 -->
      <article class="slide" aria-hidden="false">
        <div class="media" style="--overlay:linear-gradient(120deg, rgba(18,71,1,.55), rgba(11,39,38,.55));">
          <img class="cover" src="assets/img/hero-1.jpg" alt="Sustainable infrastructure across Africa" loading="eager" decoding="async" fetchpriority="high">
          <div class="ph">Add a 16:9 hero image</div>
        </div>
        <div class="content">
          <div class="inner" data-reveal>
            <span class="eyebrow">Integrated Investments</span>
            <h1 class="headline">Building sustainable value across Africa and beyond</h1>
            <p class="subhead">Dadaba Group drives growth through infrastructure, energy, agritech and real estate—advancing prosperity with responsible innovation.</p>
            <div class="cta-row">
              <a class="btn primary" href="businesses.html">Explore our businesses</a>
              <a class="btn" href="sustainability.html">Our sustainability journey</a>
            </div>
          </div>
        </div>
      </article>

      <!-- Slide 2 -->
      <article class="slide" aria-hidden="true">
        <div class="media" style="--overlay:linear-gradient(115deg, rgba(10,28,60,.55), rgba(2,10,28,.55));">
          <img class="cover" src="assets/img/hero-2.jpg" alt="Renewables and clean utilities" loading="lazy" decoding="async">
          <div class="ph">Add a 16:9 hero image</div>
        </div>
        <div class="content">
          <div class="inner" data-reveal>
            <span class="eyebrow">Energy & Utilities</span>
            <h2 class="headline">Transitioning communities to reliable, clean power</h2>
            <p class="subhead">From distributed solar to efficiency programs, we invest in resilient systems that reduce costs and emissions.</p>
            <div class="cta-row">
              <a class="btn primary" href="businesses.html#energy">View energy initiatives</a>
              <a class="btn" href="sustainability.html#climate">See climate action</a>
            </div>
          </div>
        </div>
      </article>

      <!-- Slide 3 -->
      <article class="slide" aria-hidden="true">
        <div class="media" style="--overlay:linear-gradient(115deg, rgba(45,26,14,.55), rgba(26,12,6,.55));">
          <img class="cover" src="assets/img/hero-3.jpg" alt="Inclusive growth and communities" loading="lazy" decoding="async">
          <div class="ph">Add a 16:9 hero image</div>
        </div>
        <div class="content">
          <div class="inner" data-reveal>
            <span class="eyebrow">People & Places</span>
            <h2 class="headline">Investing in talent, livelihoods and local enterprise</h2>
            <p class="subhead">Our foundation programs and partnerships nurture skills, jobs and wellbeing across regions.</p>
            <div class="cta-row">
              <a class="btn primary" href="about.html#foundation">Explore the Foundation</a>
              <a class="btn" href="media.html">Latest impact stories</a>
            </div>
          </div>
        </div>
      </article>
    </div>

    <!-- Controls -->
    <div class="dots" id="heroDots" role="tablist" aria-label="Slide selector"></div>
    <div class="arrows" aria-label="Slide navigation">
      <button type="button" id="heroPrev" aria-label="Previous slide">‹ Prev</button>
      <button type="button" id="heroNext" aria-label="Next slide">Next ›</button>
    </div>
  </section>

  <div class="stats auto-visibility" data-reveal style="--d:60ms">
    <div class="container wrap">
      <div class="stat"><span class="num" data-count="16">0</span><span class="label">Operating countries</span></div>
      <div class="stat"><span class="num" data-count="50">0</span><span class="label">Group companies</span></div>
      <div class="stat"><span class="num" data-count="12000">0</span><span class="label">Jobs supported</span></div>
      <div class="stat"><span class="num" data-count="25">0</span><span class="label">ESG programs</span></div>
    </div>
  </div>

  <!-- ======== CORE BUSINESSES ======== -->
  <section class="container core auto-visibility" id="core">
    <div class="section-head" data-reveal>
      <div>
        <h2>Core Businesses</h2>
        <p>These are the pillars of the Dadaba ecosystem. Explore our flagship companies and impact foundation.</p>
      </div>

      <!-- Filter pills -->
      <div class="pill-row" role="tablist" aria-label="Core business filter">
        <button class="pill" type="button" data-filter="all" aria-pressed="true"><span class="dot"></span>All</button>
        <button class="pill" type="button" data-filter="real-estate"><span class="dot"></span>Real Estate</button>
        <button class="pill" type="button" data-filter="carbon"><span class="dot"></span>Carbon Hub</button>
        <button class="pill" type="button" data-filter="mining"><span class="dot"></span>Mining</button>
        <button class="pill" type="button" data-filter="smart-farming"><span class="dot"></span>Smart Farming</button>
        <button class="pill" type="button" data-filter="foundation"><span class="dot"></span>Foundation</button>
      </div>
    </div>

    <div class="grid" id="bizGrid">
      <!-- Real Estate -->
      <article class="card" data-reveal="pop" data-tags="real-estate">
        <div class="thumb" role="img" aria-label="Dadaba Estate image">
          <img class="cover" src="assets/img/real-estate.jpg" alt="Dadaba Estate — sustainable housing and commercial builds" loading="lazy" decoding="async">
        </div>
        <div class="body">
          <span class="kicker">Real Estate</span>
          <h3>Dadaba Estate</h3>
          <p class="desc">Sustainable housing and commercial developments that blend design, technology and community.</p>
          <div class="chip-row"><span class="chip">Residential</span><span class="chip">Commercial</span><span class="chip">Mixed-use</span></div>
        </div>
        <div class="foot"><a class="link" href="subsidiaries/dadaba-estate.html">Learn more</a><span>→</span></div>
      </article>

      <!-- Carbon Hub -->
      <article class="card" data-reveal="pop" data-tags="carbon">
        <div class="thumb" role="img" aria-label="Dadaba Carbon Hub image">
          <img class="cover" src="assets/img/carbon.jpg" alt="Dadaba Carbon Hub — green investments and carbon projects" loading="lazy" decoding="async">
        </div>
        <div class="body">
          <span class="kicker">ESG & Carbon</span>
          <h3>Dadaba Carbon Hub</h3>
          <p class="desc">High-integrity carbon projects and green investments enabling credible net-zero pathways.</p>
          <div class="chip-row"><span class="chip">Offsets</span><span class="chip">MRV</span><span class="chip">Nature-based</span></div>
        </div>
        <div class="foot"><a class="link" href="subsidiaries/dadaba-carbon-hub.html">Learn more</a><span>→</span></div>
      </article>

      <!-- Mining -->
      <article class="card" data-reveal="pop" data-tags="mining">
        <div class="thumb" role="img" aria-label="Dadaba Mining Ltd image">
          <img class="cover" src="assets/img/mining.jpg" alt="Dadaba Mining — responsible gold and minerals development" loading="lazy" decoding="async">
        </div>
        <div class="body">
          <span class="kicker">Materials & Mining</span>
          <h3>Dadaba Mining Ltd</h3>
          <p class="desc">Responsible gold and minerals development with strong environmental stewardship.</p>
          <div class="chip-row"><span class="chip">Gold</span><span class="chip">ESG</span></div>
        </div>
        <div class="foot"><a class="link" href="subsidiaries/dadaba-mining.html">Learn more</a><span>→</span></div>
      </article>

      <!-- Smart Farming -->
      <article class="card" data-reveal="pop" data-tags="smart-farming">
        <div class="thumb" role="img" aria-label="Dadaba Prestige Smart Farming image">
          <img class="cover" src="assets/img/farming.jpg" alt="Dadaba Prestige — smart farming and agritech solutions" loading="lazy" decoding="async">
        </div>
        <div class="body">
          <span class="kicker">Agritech</span>
          <h3>Dadaba Prestige (Smart Farming)</h3>
          <p class="desc">Precision agriculture and climate-smart farming—IoT sensors, data-driven irrigation, and farmer enablement.</p>
          <div class="chip-row"><span class="chip">Precision Ag</span><span class="chip">IoT & Data</span><span class="chip">Agri-Finance</span></div>
        </div>
        <div class="foot"><a class="link" href="subsidiaries/dadaba-prestige.html">Learn more</a><span>→</span></div>
      </article>

      <!-- Foundation -->
      <article class="card" data-reveal="pop" data-tags="foundation">
        <div class="thumb" role="img" aria-label="Dadaba Foundation image">
          <img class="cover" src="assets/img/foundation.jpg" alt="Dadaba Foundation — education, health and livelihoods" loading="lazy" decoding="async">
        </div>
        <div class="body">
          <span class="kicker">Social Impact</span>
          <h3>Dadaba Foundation</h3>
          <p class="desc">Programs in education, health and livelihoods that uplift communities and expand opportunity.</p>
          <div class="chip-row"><span class="chip">Education</span><span class="chip">Health</span><span class="chip">Livelihoods</span></div>
        </div>
        <div class="foot"><a class="link" href="about.html#foundation">Learn more</a><span>→</span></div>
      </article>
    </div>
  </section>

  <section class="container auto-visibility">
    <div class="section-head" data-reveal>
      <div>
        <h2>Sustainability</h2>
        <p>Our ESG framework advances climate action, community development and transparent governance across every business.</p>
      </div>
      <a href="sustainability.html#reports" class="btn">View ESG Documents</a>
    </div>

    <div class="triple" id="esgTiles">
      <div class="tile climate" data-reveal>
        <div class="h">Climate Action</div>
        <p class="desc">Decarbonisation roadmap with renewable buildout, efficiency and nature-based solutions.</p>
        <div class="metric"><strong id="trees">100,000+</strong> trees pledged</div>
      </div>
      <div class="tile community" data-reveal>
        <div class="h">Nurturing Communities</div>
        <p class="desc">Education, health and livelihoods programs positively impacting villages and cities.</p>
        <div class="metric">Thousands impacted</div>
      </div>
      <div class="tile gov" data-reveal>
        <div class="h">Governance</div>
        <p class="desc">Board oversight, risk management and alignment with global principles for long-term value.</p>
        <div class="metric">100% policy alignment</div>
      </div>
    </div>
  </section>

  <section class="news-section auto-visibility">
    <div class="container">
      <h2 class="news-title" data-reveal>Recent News</h2>
      <div class="news-grid" id="newsGrid">
        <article class="news-card" data-reveal>
          <figure class="news-media">
            <img src="assets/img/news-1.png" alt="Donation to Empowers Africa" loading="lazy" decoding="async" />
          </figure>
          <div class="news-body">
            <h3 class="news-h">Donation to Empowers Africa</h3>
            <p class="news-kicker">Dadaba Foundation • 12 Aug 2025</p>
            <p class="news-desc">Scholarships and skills support for young creatives in Accra.</p>
          </div>
        </article>
        <article class="news-card" data-reveal>
          <figure class="news-media">
            <img src="assets/img/news-2.png" alt="Dr. Kodie charity hospital visit" loading="lazy" decoding="async" />
          </figure>
          <div class="news-body">
            <h3 class="news-h">Dr. Kodie Charity Hospital Visit</h3>
            <p class="news-kicker">Dadaba Group • 08 Aug 2025</p>
            <p class="news-desc">Medical donations and volunteer drive expand to three regions.</p>
          </div>
        </article>
        <article class="news-card" data-reveal>
          <figure class="news-media">
            <img src="assets/img/news-3.jpg" alt="AOB Awards recognition" loading="lazy" decoding="async" />
          </figure>
          <div class="news-body">
            <h3 class="news-h">Recognition at AOB Awards</h3>
            <p class="news-kicker">Dadaba Entertainment • 02 Aug 2025</p>
            <p class="news-desc">Celebrating culture, enterprise and youth leadership.</p>
          </div>
        </article>
      </div>
      <div class="news-cta" data-reveal style="--d:80ms">
        <a href="media.html" class="btn-outline">Read More</a>
      </div>
    </div>
  </section>

  <section class="partners auto-visibility">
    <div class="container">
      <div class="partners-head" data-reveal="fade">FEATURED PARTNERS AND SPONSORS</div>
      <div class="partners-grid" id="partnersGrid">
        <div class="partner-tile" data-reveal><img src="assets/img/NYA.webp" alt="Partner 1" loading="lazy" decoding="async"></div>
        <div class="partner-tile" data-reveal><img src="assets/img/sbpafricalogo2.png" alt="Partner 2" loading="lazy" decoding="async"></div>
        <div class="partner-tile" data-reveal><img src="assets/img/ghb.png" alt="Partner 3" loading="lazy" decoding="async"></div>
        <div class="partner-tile" data-reveal><img src="assets/img/COP28_BrandMark_Horizontal_2line_English+(1).png" alt="Partner 4" loading="lazy" decoding="async"></div>
        <div class="partner-tile" data-reveal><img src="assets/img/gro.jpg" alt="Partner 5" loading="lazy" decoding="async"></div>
        <div class="partner-tile" data-reveal><img src="assets/img/ampath.webp" alt="Partner 6" loading="lazy" decoding="async"></div>
      </div>
    </div>
  </section>

  <footer class="site-footer" role="contentinfo">
    <div class="footer-main">
      <div class="container">
        <div class="footer-grid" id="footerGrid">
          <div class="foot-col" data-reveal>
            <div class="foot-brand">
              <img class="logo-img small"
                   src="assets/img/logo2.png"
                   srcset="assets/img/logo2.png 1x, assets/img/logo2.png 2x"
                   alt="Dadaba Group logo" width="64" height="64" decoding="async">
              <strong>Dadaba Group</strong>
            </div>
            <p class="foot-tag">A diversified group advancing sustainable development across Africa and the world.</p>
          </div>

          <div class="foot-col" data-reveal>
            <h4>Head Office — Ghana</h4>
            <ul class="foot-links">
              <li>East Legon, Boundary Rd, Accra</li>
              <li>P.O. Box GP 4567, Legon</li>
              <li><a href="tel:+233597294288">+233 (0) 597294288</a></li>
              <li><a href="mailto:info@dadabagroup.com">info@dadabagroup.com</a></li>
            </ul>
          </div>

          <div class="foot-col" data-reveal>
            <h4>Quick Links</h4>
            <ul class="foot-links">
              <li><a href="about.html">About</a></li>
              <li><a href="businesses.html">Businesses</a></li>
              <li><a href="media.html">Newsroom</a></li>
              <li><a href="careers.html">Careers</a></li>
            </ul>
          </div>

          <div class="foot-col" data-reveal>
            <h4>Reach Us</h4>
            <ul class="foot-links">
              <li>Mon–Fri, 9:00–17:00</li>
              <li><a href="investors.html">Investors</a></li>
              <li><a href="sustainability.html#reports">ESG Reports</a></li>
              <li><a href="contact.html">Contact</a></li>
            </ul>
          </div>
        </div>

        <form class="newsletter-wide" action="#" onsubmit="event.preventDefault(); alert('Subscribed: ' + this.email.value)" data-reveal>
          <div class="newsletter-row">
            <span class="nl-label">Subscribe To Our Newsletter</span>
            <input type="email" name="email" required placeholder="Enter your email" aria-label="Email" />
            <button type="submit">Subscribe</button>
          </div>
        </form>
      </div>
    </div>

    <div class="footer-bottom">
      <div class="container foot-bottom-row">
        <div>© <span id="year"></span> Dadaba Group — All rights reserved</div>
        <nav class="foot-legal">
          <a href="legal.html">Legal</a>
          <a href="privacy.html">Privacy</a>
          <a href="terms.html">Terms</a>
        </nav>
      </div>
    </div>
  </footer>

  <button class="btn backtotop" id="backToTop" aria-label="Back to top">↑ Top</button>

<script>
  // ===== Utility: prefers-reduced-motion =====
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  // Year
  (function(){ const y = document.getElementById('year'); if(y && !y.textContent) y.textContent = new Date().getFullYear(); })();

  // ===== Desktop mega menu toggle + global closers =====
  const megaButtons = document.querySelectorAll('.has-mega > button');
  function closeAllMegas(){ megaButtons.forEach(b => b.setAttribute('aria-expanded','false')); }
  megaButtons.forEach(btn => {
    btn.addEventListener('click', (e) => {
      const expanded = btn.getAttribute('aria-expanded') === 'true';
      closeAllMegas();
      btn.setAttribute('aria-expanded', expanded ? 'false' : 'true');
      e.stopPropagation();
    }, {passive:true});
  });
  document.addEventListener('click', ()=> closeAllMegas(), {passive:true});
  window.addEventListener('scroll', ()=> closeAllMegas(), {passive:true});
  window.addEventListener('resize', ()=>{ if(window.innerWidth<=900) closeAllMegas(); }, {passive:true});

  // ===== Search & Drawer (with body scroll lock) =====
  const body = document.body;
  function lockScroll(){ body.style.overflow='hidden'; body.style.touchAction='none'; }
  function unlockScroll(){ body.style.overflow=''; body.style.touchAction=''; }

  function toggleSearch(show){
    const el = document.getElementById('searchOverlay'); if(!el) return;
    el.style.display = show ? 'flex' : 'none';
    el.setAttribute('aria-hidden', show ? 'false' : 'true');
    const trigger = document.getElementById('openSearch');
    trigger?.setAttribute('aria-expanded', show ? 'true' : 'false');
    if(show){
      lockScroll();
      const q = document.getElementById('q');
      setTimeout(()=>q?.focus(), 20);
      renderResults('');
    } else {
      unlockScroll();
    }
  }
  function toggleDrawer(show){
    const el = document.getElementById('drawer'); if(!el) return;
    el.style.display = show ? 'block' : 'none';
    el.setAttribute('aria-hidden', show? 'false':'true');
    document.getElementById('openDrawer')?.setAttribute('aria-expanded', show? 'true':'false');
    show ? lockScroll() : unlockScroll();
  }
  document.getElementById('openSearch')?.addEventListener('click', ()=>toggleSearch(true), {passive:true});
  document.getElementById('closeSearch')?.addEventListener('click', ()=>toggleSearch(false), {passive:true});
  document.getElementById('searchOverlay')?.addEventListener('click', (e)=>{ if(e.target.id==='searchOverlay') toggleSearch(false) }, {passive:true});

  document.getElementById('openDrawer')?.addEventListener('click', ()=>toggleDrawer(true), {passive:true});
  document.getElementById('closeDrawer')?.addEventListener('click', ()=>toggleDrawer(false), {passive:true});
  document.getElementById('drawer')?.addEventListener('click', (e)=>{ if(e.target.id==='drawer') toggleDrawer(false) }, {passive:true});

  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'){ toggleSearch(false); toggleDrawer(false); closeAllMegas(); } });

  // ===== Functional search (client-side) =====
  const searchIndex = [];
  function addIndex(title, url, excerpt){ searchIndex.push({title, url, excerpt: (excerpt||'').replace(/\s+/g,' ').trim()}); }

  (function buildIndex(){
    addIndex('Core Businesses', '#core', 'Explore flagship companies and the foundation');
    addIndex('Sustainability', 'sustainability.html', 'ESG pillars and disclosures');
    document.querySelectorAll('#bizGrid .card').forEach(card=>{
      const h = card.querySelector('h3')?.textContent.trim() || 'Business';
      const desc = card.querySelector('.desc')?.textContent.trim() || '';
      const href = card.querySelector('.foot a')?.getAttribute('href') || '#core';
      addIndex(h, href, desc);
    });
    document.querySelectorAll('#esgTiles .tile').forEach(t=>{
      const h = t.querySelector('.h')?.textContent.trim() || 'ESG';
      const desc = t.querySelector('.desc')?.textContent.trim() || '';
      addIndex('ESG: ' + h, 'sustainability.html#' + h.toLowerCase().split(' ')[0], desc);
    });
    addIndex('Businesses', 'businesses.html', 'All verticals and subsidiaries');
    addIndex('About', 'about.html', 'Who we are, leadership, journey');
    addIndex('Investors', 'investors.html', 'Investor relations');
    addIndex('Newsroom', 'media.html', 'Latest news and stories');
    addIndex('Careers', 'careers.html', 'Open roles and culture');
    addIndex('Contact', 'contact.html', 'How to reach us');
    addIndex('Foundation', 'dadaba-foundation.html', 'Education, health and livelihoods');
  })();

  const resultsBox = document.getElementById('searchResults');
  function renderResults(query){
    const q = (query||'').toLowerCase().trim();
    const hits = q
      ? searchIndex.filter(it => (it.title + ' ' + it.excerpt).toLowerCase().includes(q)).slice(0,10)
      : [
          {title:'Businesses', url:'businesses.html', excerpt:'Explore all verticals and subsidiaries'},
          {title:'Sustainability', url:'sustainability.html', excerpt:'ESG pillars and disclosures'},
          {title:'Investors', url:'investors.html', excerpt:'Investor relations'},
          {title:'Newsroom', url:'media.html', excerpt:'Latest news and stories'}
        ];
    resultsBox.innerHTML = hits.map(h =>
      `<a class="result" href="${h.url}" role="option">
         <span>${h.title}</span><small>${h.excerpt||''}</small>
       </a>`
    ).join('') || `<div class="result" tabindex="-1"><span>No results</span><small>Try a different term</small></div>`;
  }

  const qInput = document.getElementById('q');
  qInput?.addEventListener('input', (e)=> renderResults(e.target.value), {passive:true});
  document.getElementById('searchForm')?.addEventListener('submit', (e)=>{
    e.preventDefault();
    const first = resultsBox.querySelector('.result');
    if(first && first.getAttribute('href')){
      const href = first.getAttribute('href');
      toggleSearch(false);
      if(href.startsWith('#')){
        const el = document.querySelector(href);
        el?.scrollIntoView({behavior:'smooth', block:'start'});
      }else{
        location.href = href;
      }
    }
  });

  // ===== Back to top =====
  const btt = document.getElementById('backToTop');
  window.addEventListener('scroll', ()=>{ btt.style.display = window.scrollY>600 ? 'inline-flex':'none'; }, {passive:true});
  btt.addEventListener('click', ()=>window.scrollTo({top:0, behavior:'smooth'}));

  // ===== Hero slider (dots, keys, swipe, autoplay) =====
  (function(){
   const track = document.getElementById('slides');
   const dotsWrap = document.getElementById('heroDots');
   if(!track || !dotsWrap) return;

   const slides = Array.from(track.querySelectorAll('.slide'));
   const prev = document.getElementById('heroPrev');
   const next = document.getElementById('heroNext');
   let index = 0;
   let autoTimer = null;
   let AUTO_MS = 6500; // desktop
   if (window.matchMedia('(max-width:640px)').matches) AUTO_MS = 0; // calmer mobile

   // Build dots
   dotsWrap.innerHTML = '';
   slides.forEach((_, i)=>{
     const b = document.createElement('button');
     b.setAttribute('aria-label', `Slide ${i+1}`);
     b.addEventListener('click', ()=>goTo(i, true), {passive:true});
     dotsWrap.appendChild(b);
   });
   const dots = Array.from(dotsWrap.querySelectorAll('button'));

   function goTo(i, user=false){
     index = (i + slides.length) % slides.length;
     track.style.transform = `translateX(-${index*100}%)`;
     slides.forEach((s,idx)=> s.setAttribute('aria-hidden', idx!==index));
     dots.forEach((d,idx)=> d.setAttribute('aria-current', idx===index ? 'true' : 'false'));
     if(user) restartAuto();
   }
   function nextSlide(){ goTo(index+1); }
   function prevSlide(){ goTo(index-1); }

   prev?.addEventListener('click', prevSlide, {passive:true});
   next?.addEventListener('click', nextSlide, {passive:true});
   document.addEventListener('keydown', (e)=>{ if(e.key==='ArrowRight') nextSlide(); if(e.key==='ArrowLeft') prevSlide(); });

   // Swipe
   let touchStartX = 0;
   track.addEventListener('touchstart', (e)=>{ touchStartX = e.changedTouches[0].clientX; }, {passive:true});
   track.addEventListener('touchend', (e)=>{
     const dx = e.changedTouches[0].clientX - touchStartX;
     if(Math.abs(dx) > 50) (dx < 0 ? nextSlide() : prevSlide());
   }, {passive:true});

   function startAuto(){
     if (prefersReduced || !AUTO_MS) return;
     stopAuto();
     autoTimer = setInterval(nextSlide, AUTO_MS);
   }
   function stopAuto(){ if(autoTimer){ clearInterval(autoTimer); autoTimer = null; } }
   function restartAuto(){ stopAuto(); startAuto(); }

   const mqSmall = window.matchMedia('(max-width:640px)');
   mqSmall.addEventListener?.('change', e => { AUTO_MS = e.matches ? 0 : 6500; restartAuto(); });

   const hero = document.querySelector('.hero');
   hero?.addEventListener('pointerenter', stopAuto);
   hero?.addEventListener('pointerleave', startAuto);
   hero?.addEventListener('focusin', stopAuto);
   hero?.addEventListener('focusout', startAuto);

   goTo(0); startAuto();
  })();

  // ===== Header shadow + progress bar =====
  const header = document.getElementById('siteHeader');
  const progress = document.getElementById('scrollProgress');
  const onScrollDecor = ()=>{
    const y = window.scrollY || document.documentElement.scrollTop;
    header.classList.toggle('scrolled', y>4);
    const h = document.documentElement.scrollHeight - window.innerHeight;
    const pct = h>0 ? (y / h) * 100 : 0;
    progress.style.width = pct + '%';
  };
  window.addEventListener('scroll', onScrollDecor, {passive:true});
  onScrollDecor();

  // ===== Reveal on scroll =====
  const revealEls = Array.from(document.querySelectorAll('[data-reveal]'));
  function applyStagger(selectors){
    document.querySelectorAll(selectors).forEach(group=>{
      const kids = Array.from(group.querySelectorAll('[data-reveal]'));
      kids.forEach((el,i)=> el.style.setProperty('--d', (i*60)+'ms'));
    });
  }
  applyStagger('#bizGrid, #newsGrid, #partnersGrid, #footerGrid, #esgTiles');

  const ioReveal = new IntersectionObserver((entries, obs)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting){
        entry.target.classList.add('is-visible');
        obs.unobserve(entry.target);
      }
    });
  }, {threshold:0.16, rootMargin:'0px 0px -40px 0px'});
  revealEls.forEach(el=> ioReveal.observe(el));

  // ===== Parallax on first hero image =====
  const heroImg = document.querySelector('.hero .media img.cover');
  const heroSection = document.querySelector('.hero');
  function parallaxTick(){
    if(!heroImg || !heroSection || prefersReduced || window.matchMedia('(max-width:640px)').matches){ return; }
    const rect = heroSection.getBoundingClientRect();
    const viewH = window.innerHeight || 0;
    const prog = 1 - Math.min(Math.max((rect.bottom) / (rect.height + viewH), 0), 1);
    const offset = prog * 24;
    heroImg.style.setProperty('--parallax', offset.toFixed(1)+'px');
  }
  window.addEventListener('scroll', ()=>{ requestAnimationFrame(parallaxTick); }, {passive:true});
  window.addEventListener('resize', parallaxTick, {passive:true});
  parallaxTick();

  // ===== Count-up numbers in stats =====
  (function(){
    const section = document.querySelector('.stats');
    if(!section) return;
    const nums = Array.from(section.querySelectorAll('.num'));
    const fmt = new Intl.NumberFormat('en-US');
    const easeOutCubic = t => 1 - Math.pow(1 - t, 3);

    function animateNum(el){
      const target = Number(el.dataset.count || '0');
      const dur = Number(el.dataset.duration || '1600');
      const start = performance.now();
      const from = 0;
      function frame(now){
        const t = Math.min((now - start) / dur, 1);
        const eased = easeOutCubic(t);
        const val = Math.floor(from + (target - from) * eased);
        el.textContent = fmt.format(val);
        if(t < 1 && !prefersReduced) requestAnimationFrame(frame);
        else el.textContent = fmt.format(target);
      }
      if(prefersReduced){ el.textContent = fmt.format(target); return; }
      requestAnimationFrame(frame);
    }

    const io = new IntersectionObserver(entries=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          nums.forEach(animateNum);
          io.disconnect();
        }
      });
    }, {threshold:0.35});
    io.observe(section);
  })();

  // ===== Robust image loader (no placeholder flash) =====
  (function(){
    function fallbackChain(src){
      const url = new URL(src, location.href);
      const name = url.pathname.split('/').pop() || '';
      const dot  = name.lastIndexOf('.');
      const base = dot > -1 ? name.slice(0, dot) : name;
      const ext  = dot > -1 ? name.slice(dot+1).toLowerCase() : '';
      const exts = ['webp','jpg','jpeg','png'];
      const ordered = [ext, ...exts.filter(e=>e!==ext)];
      const folder = url.pathname.slice(0, url.pathname.length - name.length);
      return ordered.map(e => folder + base + '.' + e);
    }

    function markHasImage(container){
      container.classList.remove('show-placeholder');
      container.classList.add('has-image');
    }

    function markFailure(container){
      container.classList.remove('has-image');
      container.classList.add('show-placeholder');
    }

    function wireImage(img){
      if(!img) return;
      const container = img.closest('.thumb,.media');
      if(!container) return;

      // Cached images: mark immediately
      if (img.complete && img.naturalWidth){
        markHasImage(container);
        return;
      }

      // Prefer decode() when available for a clean reveal
      if ('decode' in img) {
        img.decode().then(()=> markHasImage(container)).catch(()=>{/* fall back to events */});
      }

      img.addEventListener('load', ()=> markHasImage(container), {once:true});

      // Try alternate extensions; if exhausted, show placeholder
      const tried = new Set([img.currentSrc || img.src]);
      const candidates = fallbackChain(img.getAttribute('src') || '');
      img.addEventListener('error', ()=>{
        let next = null;
        for(const cand of candidates){
          const abs = new URL(cand, location.href).pathname;
          if(!tried.has(abs)){ next = cand; break; }
        }
        if(next){
          tried.add(next);
          img.src = next;
        } else {
          markFailure(container);  // only now we show the dashed placeholder
        }
      });
    }

    document.querySelectorAll('img').forEach(wireImage);
  })();

  // ===== Core business: filter pills + smooth hide/show =====
  (function(){
    const grid = document.getElementById('bizGrid');
    if(!grid) return;
    const cards = [...grid.querySelectorAll('.card')];
    const pills = [...document.querySelectorAll('.pill-row .pill')];

    function applyFilter(key){
      grid.classList.add('animating');
      cards.forEach(card=>{
        const show = key === 'all' ? true : (card.dataset.tags || '').includes(key);
        card.classList.toggle('hidden', !show);
      });
      setTimeout(()=>grid.classList.remove('animating'), 340);
    }

    pills.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        pills.forEach(b=>b.setAttribute('aria-pressed','false'));
        btn.setAttribute('aria-pressed','true');
        applyFilter(btn.dataset.filter);
      });
    });
  })();
</script>
</body>
</html>
